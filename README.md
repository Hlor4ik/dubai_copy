Окей, делаем **строгое, инженерное ТЗ**, без маркетинга, без «вау», без лишних слов.
Формат — **можно сразу отдавать разработчику / команде**.

---

# ТЕХНИЧЕСКОЕ ЗАДАНИЕ

## DEMO-MVP голосового ИИ-консультанта по подбору квартир

---

## 1. Общая информация

**Тип продукта:** Web-приложение (DEMO)
**Назначение:** демонстрация работы голосового ИИ-консультанта по подбору квартир
**Язык:** русский
**Регион DEMO:** ОАЭ (русскоязычная аудитория)
**Телефония:** не используется (эмуляция звонка через браузер)
**Целевая платформа:** Desktop Web (Chrome)

---

## 2. Архитектура (обязательно)

### 2.1 Общая схема

```
Web UI
  ↕ (audio)
STT
  ↕ (text)
Dialogue Engine (LLM)
  ↕
Apartment Selector (JSON)
  ↕
TTS
  ↕ (audio)
Web UI
```

---

## 3. Web-интерфейс (DEMO)

### 3.1 Требования

* Одна страница
* Кнопка **«Начать звонок»**
* Индикаторы состояния:

  * «Робот говорит»
  * «Вы говорите»
* Отображение текущего статуса микрофона
* Без авторизации
* Без личного кабинета

---

## 4. Голосовой ввод (STT)

### 4.1 Функциональные требования

* Распознавание свободной речи
* Русский язык
* Поддержка чисел и диапазонов

### 4.2 Примеры корректного ввода

* «до восьми миллионов»
* «примерно 60 квадратов»
* «не выше десятого этажа»
* «дешевле»
* «следующий вариант»
* «другой район»

---

## 5. Голосовой вывод (TTS)

### 5.1 Требования

* Русский язык
* Естественный, не роботизированный голос
* Нейтрально-продающий тон
* Задержка генерации ≤ 2 секунд

---

## 6. Диалоговый ИИ

### 6.1 Общие требования

* Контекстный диалог
* Отсутствие жёсткого сценария
* Хранение параметров между репликами
* Возможность изменения параметров в процессе диалога

---

### 6.2 Параметры подбора

ИИ должен извлекать и хранить:

* `district` — район
* `price_min`, `price_max` — цена
* `area_min`, `area_max` — площадь
* `floor_min`, `floor_max` — этаж

---

### 6.3 Интенты (обязательные)

* Начало подбора
* Уточнение параметров
* Изменение параметров
* Запрос следующего варианта
* Подтверждение интереса
* Завершение диалога

---

### 6.4 Поведение

* Если данных недостаточно → ИИ задаёт уточняющий вопрос
* Если вариантов нет → предлагает изменить параметры
* После подбора → предлагает:

  * следующий вариант
  * отправку презентации квартиры

---

## 7. База квартир

### 7.1 Формат

Локальный JSON-файл

### 7.2 Структура объекта

```json
{
  "id": "string",
  "district": "string",
  "area": number,
  "floor": number,
  "price": number,
  "description": "string",
  "images": ["url", "url"]
}
```

---

### 7.3 Логика подбора

* Фильтрация по параметрам
* Сортировка по релевантности
* Последовательный показ вариантов

---

## 8. Генерация персонального лендинга квартиры

### 8.1 Условия генерации

* Генерируется после подтверждения интереса клиентом
* Одна квартира = одна страница
* Уникальный URL

---

### 8.2 URL

```
/apartment/{uuid}
```

---

### 8.3 Содержимое страницы

* Заголовок:
  **«Квартира, подобранная для вас ИИ-консультантом»**
* Фотогалерея (3–5 изображений)
* Характеристики:

  * район
  * площадь
  * этаж
  * цена
* Текстовое описание
* Кнопка **«Связаться с менеджером»** (без логики)

---

### 8.4 Требования к дизайну

* Минимализм
* Светлый фон
* Крупные изображения
* Desktop-ориентация

---

## 9. Аналитика (обязательно)

### 9.1 Сохраняемые данные

* ID сессии
* Длительность диалога
* Озвученные параметры
* Количество предложенных квартир
* Выбранная квартира
* Факт генерации лендинга

### 9.2 Формат

* JSON
* Вывод в консоль или admin-лог

---

## 10. Ограничения DEMO-версии

**Не реализуется:**

* SIP / телефония
* CRM-интеграция
* Реальные заявки
* Хранение персональных данных
* Мультиязычность

---

## 11. Нефункциональные требования

* Время ответа системы ≤ 3 сек
* Корректная обработка пауз и повторов
* Возможность перезапуска DEMO без перезагрузки страницы
* Стабильная работа в течение демонстрации (30–60 мин)

---

## 12. Критерии приёмки

DEMO считается выполненным, если:

* ИИ ведёт связный голосовой диалог
* Корректно подбирает квартиру
* Генерирует персональный лендинг
* Все данные фиксируются в аналитике
* DEMO запускается по одной ссылке

